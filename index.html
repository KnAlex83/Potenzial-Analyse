<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grovia Digital - Personal Branding Masterclass</title>
    <meta name="description" content="Entdecke dein Personal Branding Potenzial mit unserer professionellen 8-Fragen Analyse. Erhalte personalisierte Einblicke für deinen Social Media Erfolg.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3b82f6;
            --primary-foreground: #ffffff;
            --background: #ffffff;
            --foreground: #0f172a;
            --muted: #f1f5f9;
            --muted-foreground: #64748b;
            --border: #e2e8f0;
            --input: #e2e8f0;
            --ring: #3b82f6;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8fafc;
            color: var(--foreground);
            line-height: 1.5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
        }

        .survey-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 48px;
            border: 1px solid var(--border);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 48px;
        }

        .header-content h1 {
            font-size: 32px;
            font-weight: 700;
            color: #1e293b;
            margin: 0 0 8px 0;
        }

        .header-content p {
            font-size: 18px;
            color: var(--muted-foreground);
            margin: 0;
        }

        .logo {
            width: 120px;
            height: auto;
            opacity: 0.8;
        }

        .progress-section {
            margin-bottom: 48px;
        }

        .progress-text {
            font-size: 16px;
            font-weight: 500;
            color: var(--muted-foreground);
            margin-bottom: 16px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--muted);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .question-title {
            font-size: 24px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 32px;
            line-height: 1.3;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-item {
            display: flex;
            align-items: flex-start;
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }

        .radio-item:hover {
            border-color: var(--primary);
            background-color: #f0f9ff;
        }

        .radio-item.selected {
            border-color: var(--primary);
            background-color: #eff6ff;
        }

        .radio-input {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            margin-top: 2px;
            accent-color: var(--primary);
        }

        .radio-label {
            font-size: 16px;
            color: #334155;
            line-height: 1.4;
            flex: 1;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #374151;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 48px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            flex: 1;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .btn-primary:hover:not(:disabled) {
            background: #2563eb;
            border-color: #2563eb;
        }

        .btn-primary:disabled {
            background: #9ca3af;
            border-color: #9ca3af;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border-color: var(--border);
        }

        .btn-secondary:hover {
            background: #f8fafc;
            border-color: var(--primary);
        }

        .result-card {
            text-align: center;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 32px;
            font-size: 32px;
            font-weight: 700;
            color: white;
        }

        .score-high {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .score-low {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .hidden {
            display: none;
        }

        .contact-form {
            margin-top: 32px;
            padding-top: 32px;
            border-top: 1px solid var(--border);
        }

        .contact-title {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 24px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }
            .survey-card {
                padding: 24px;
            }
            .header {
                flex-direction: column;
                gap: 16px;
            }
            .question-title {
                font-size: 20px;
            }
            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="survey-card">
            <div class="header">
                <div class="header-content">
                    <h1>Grovia Digital</h1>
                    <p>Personal Branding Masterclass</p>
                </div>
                <svg class="logo" viewBox="0 0 120 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 8L32 20L20 32L8 20L20 8Z" fill="#1e293b"/>
                    <rect x="40" y="12" width="16" height="16" fill="#3b82f6"/>
                    <text x="65" y="25" font-family="Inter" font-weight="700" font-size="14" fill="#1e293b">GROVIA</text>
                </svg>
            </div>

            <div id="survey-content">
                <div class="progress-section">
                    <div class="progress-text" id="progress-text">Schritt 1 von 9</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 11.11%;"></div>
                    </div>
                </div>

                <form id="survey-form">
                    <div id="question-container"></div>
                    
                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" id="prev-btn" onclick="previousStep()" style="display: none;">Zurück</button>
                        <button type="button" class="btn btn-primary" id="next-btn" onclick="nextStep()">Weiter</button>
                    </div>
                </form>
            </div>

            <div id="result-screen" class="hidden">
                <div class="result-card">
                    <div id="score-display"></div>
                    <div id="result-message"></div>
                    <button class="btn btn-primary" onclick="restartSurvey()">Neue Analyse starten</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 9;
        const answers = {};

        const questions = [
            {
                title: "Wie schätzt du dein aktuelles Verständnis von Personal Branding auf Social Media ein?",
                options: [
                    "Ich bin völlig neu in diesem Bereich",
                    "Ich habe grundlegende Kenntnisse",
                    "Ich kenne mich gut aus, setze aber wenig um",
                    "Ich bin Experte und setze konsequent um"
                ]
            },
            {
                title: "Wie viele unentdeckte Chancen oder ideale Kunden vermutest du, verpasst du aktuell, weil deine Expertise online nicht sichtbar genug ist?",
                options: [
                    "Kaum - ich starte gerade erst",
                    "Einige - ich spüre, dass mehr möglich wäre",
                    "Viele! Ich ahne, wieviel Potenzial brachliegt",
                    "Massive Mengen - es hält mein Business zurück"
                ]
            },
            {
                title: "Welche Herausforderung beschreibt am besten deine aktuelle Situation beim Personal Branding?",
                options: [
                    "Ich weiß nicht, wo ich anfangen soll",
                    "Mir fehlt die Zeit für regelmäßige Inhalte",
                    "Ich erstelle Inhalte, aber sie erreichen nicht die richtige Zielgruppe",
                    "Ich habe eine Strategie und setze sie erfolgreich um"
                ]
            },
            {
                title: "Wie konsistent bist du derzeit bei der Erstellung und Veröffentlichung von Inhalten?",
                options: [
                    "Sehr unregelmäßig oder gar nicht",
                    "Gelegentlich, wenn ich Zeit und Inspiration habe",
                    "Regelmäßig, aber nicht strategisch geplant",
                    "Sehr konsistent mit einem festen Posting-Plan"
                ]
            },
            {
                title: "Wie gut kennst du deine Zielgruppe und deren Bedürfnisse auf Social Media?",
                options: [
                    "Gar nicht, ich poste einfach drauflos",
                    "Oberflächlich, ich habe eine grobe Vorstellung",
                    "Gut, ich kenne ihre Hauptprobleme und Interessen",
                    "Sehr gut, ich erstelle gezielt Inhalte für ihre spezifischen Bedürfnisse"
                ]
            },
            {
                title: "Wie würdest du deine aktuelle Online-Präsenz und Reichweite einschätzen?",
                options: [
                    "Praktisch nicht vorhanden",
                    "Vorhanden, aber sehr begrenzt",
                    "Solide Basis, aber noch ausbaufähig",
                    "Stark und wachsend mit engagierter Community"
                ]
            },
            {
                title: "Wie messbar sind deine bisherigen Erfolge im Personal Branding?",
                options: [
                    "Ich messe nichts und sehe keine konkreten Erfolge",
                    "Ich sehe gelegentlich positive Reaktionen, messe aber nicht systematisch",
                    "Ich verfolge einige Kennzahlen und sehe moderate Erfolge",
                    "Ich messe systematisch und kann klare, positive Entwicklungen vorweisen"
                ]
            },
            {
                title: "Wie bereit bist du, Zeit und Ressourcen in die Verbesserung deines Personal Brandings zu investieren?",
                options: [
                    "Gar nicht, es hat keine Priorität für mich",
                    "Wenig, nur wenn es sehr einfach umsetzbar ist",
                    "Moderat, ich würde gerne mehr machen, wenn ich wüsste wie",
                    "Hoch, ich bin bereit, signifikant zu investieren für bessere Ergebnisse"
                ]
            }
        ];

        function renderCurrentStep() {
            const container = document.getElementById('question-container');
            
            if (currentStep <= 8) {
                const question = questions[currentStep - 1];
                container.innerHTML = `
                    <div class="question-title">${question.title}</div>
                    <div class="radio-group">
                        ${question.options.map((option, index) => `
                            <label class="radio-item ${answers[`question${currentStep}`] === option ? 'selected' : ''}" onclick="selectOption(${currentStep}, '${option.replace(/'/g, "\\'")}')">
                                <input type="radio" name="question${currentStep}" value="${option}" class="radio-input" ${answers[`question${currentStep}`] === option ? 'checked' : ''}>
                                <span class="radio-label">${option}</span>
                            </label>
                        `).join('')}
                    </div>
                `;
            } else if (currentStep === 9) {
                container.innerHTML = `
                    <div class="contact-title">Kontaktdaten für dein persönliches Ergebnis</div>
                    <div class="form-group">
                        <label class="form-label">Vorname *</label>
                        <input type="text" id="firstName" class="form-input" value="${answers.firstName || ''}" onchange="updateContactInfo('firstName', this.value)" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">E-Mail-Adresse *</label>
                        <input type="email" id="email" class="form-input" value="${answers.email || ''}" onchange="updateContactInfo('email', this.value)" required>
                    </div>
                `;
            }

            updateProgress();
            updateButtons();
        }

        function selectOption(questionNum, option) {
            answers[`question${questionNum}`] = option;
            renderCurrentStep();
        }

        function updateContactInfo(field, value) {
            answers[field] = value;
        }

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress-text').textContent = `Schritt ${currentStep} von ${totalSteps}`;
            document.getElementById('progress-fill').style.width = `${progress}%`;
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.style.display = currentStep > 1 ? 'block' : 'none';
            
            if (currentStep === 9) {
                nextBtn.textContent = 'Analyse abschließen';
                nextBtn.disabled = !answers.firstName || !answers.email;
            } else {
                nextBtn.textContent = 'Weiter';
                nextBtn.disabled = !answers[`question${currentStep}`];
            }
        }

        function nextStep() {
            if (currentStep === 9) {
                submitSurvey();
                return;
            }
            
            if (currentStep < totalSteps) {
                currentStep++;
                renderCurrentStep();
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                renderCurrentStep();
            }
        }

        async function submitSurvey() {
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = true;
            nextBtn.textContent = 'Wird verarbeitet...';

            const scores = {
                'Ich bin völlig neu in diesem Bereich': 1,
                'Ich habe grundlegende Kenntnisse': 2,
                'Ich kenne mich gut aus, setze aber wenig um': 3,
                'Ich bin Experte und setze konsequent um': 4,
                'Kaum - ich starte gerade erst': 1,
                'Einige - ich spüre, dass mehr möglich wäre': 2,
                'Viele! Ich ahne, wieviel Potenzial brachliegt': 3,
                'Massive Mengen - es hält mein Business zurück': 4,
                'Ich weiß nicht, wo ich anfangen soll': 1,
                'Mir fehlt die Zeit für regelmäßige Inhalte': 2,
                'Ich erstelle Inhalte, aber sie erreichen nicht die richtige Zielgruppe': 3,
                'Ich habe eine Strategie und setze sie erfolgreich um': 4,
                'Sehr unregelmäßig oder gar nicht': 1,
                'Gelegentlich, wenn ich Zeit und Inspiration habe': 2,
                'Regelmäßig, aber nicht strategisch geplant': 3,
                'Sehr konsistent mit einem festen Posting-Plan': 4,
                'Gar nicht, ich poste einfach drauflos': 1,
                'Oberflächlich, ich habe eine grobe Vorstellung': 2,
                'Gut, ich kenne ihre Hauptprobleme und Interessen': 3,
                'Sehr gut, ich erstelle gezielt Inhalte für ihre spezifischen Bedürfnisse': 4,
                'Praktisch nicht vorhanden': 1,
                'Vorhanden, aber sehr begrenzt': 2,
                'Solide Basis, aber noch ausbaufähig': 3,
                'Stark und wachsend mit engagierter Community': 4,
                'Ich messe nichts und sehe keine konkreten Erfolge': 1,
                'Ich sehe gelegentlich positive Reaktionen, messe aber nicht systematisch': 2,
                'Ich verfolge einige Kennzahlen und sehe moderate Erfolge': 3,
                'Ich messe systematisch und kann klare, positive Entwicklungen vorweisen': 4,
                'Gar nicht, es hat keine Priorität für mich': 1,
                'Wenig, nur wenn es sehr einfach umsetzbar ist': 2,
                'Moderat, ich würde gerne mehr machen, wenn ich wüsste wie': 3,
                'Hoch, ich bin bereit, signifikant zu investieren für bessere Ergebnisse': 4
            };

            let totalScore = 0;
            for (let i = 1; i <= 8; i++) {
                const answer = answers[`question${i}`];
                totalScore += scores[answer] || 0;
            }

            const scorePercentage = Math.round((totalScore / 32) * 100);
            
            const submissionData = {
                ...answers,
                totalScore,
                scorePercentage
            };

            try {
                await fetch('/api/survey', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(submissionData)
                });
            } catch (error) {
                console.log('Submission logged locally');
            }

            showResult(scorePercentage);
        }

        function showResult(scorePercentage) {
            document.getElementById('survey-content').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            const scoreDisplay = document.getElementById('score-display');
            const resultMessage = document.getElementById('result-message');

            const scoreClass = scorePercentage > 50 ? 'score-high' : 'score-low';
            scoreDisplay.innerHTML = `<div class="score-circle ${scoreClass}">${scorePercentage}%</div>`;

            if (scorePercentage > 50) {
                resultMessage.innerHTML = `
                    <h2 style="color: #10b981; margin-bottom: 20px;">Glückwunsch! Du bist auf einem guten Weg!</h2>
                    <div style="text-align: left;">
                        <p><strong>Dein Personal Branding Score: ${scorePercentage}%</strong></p>
                        <p>Du hast bereits eine solide Grundlage in deinem Personal Branding aufgebaut. Deine Anstrengungen zahlen sich aus, und du bist auf dem richtigen Weg, deine Expertise sichtbar zu machen.</p>
                        <h3 style="color: #333; margin-top: 25px;">Deine nächsten Schritte:</h3>
                        <ul style="text-align: left; color: #666;">
                            <li>✓ Optimiere deine bestehende Strategie für noch bessere Ergebnisse</li>
                            <li>✓ Fokussiere dich auf die Bereiche mit dem größten Verbesserungspotenzial</li>
                            <li>✓ Baue systematisch deine Reichweite und dein Engagement aus</li>
                            <li>✓ Nutze deine vorhandenen Stärken, um noch gezielter zu kommunizieren</li>
                        </ul>
                        <p style="margin-top: 25px;"><strong>Du verfügst bereits über wichtige Grundlagen – lass uns gemeinsam das volle Potenzial ausschöpfen!</strong></p>
                    </div>
                `;
            } else {
                resultMessage.innerHTML = `
                    <h2 style="color: #f59e0b; margin-bottom: 20px;">Großes Potenzial wartet auf dich!</h2>
                    <div style="text-align: left;">
                        <p><strong>Dein Personal Branding Score: ${scorePercentage}%</strong></p>
                        <p>Keine Sorge – du stehst am Anfang einer spannenden Reise! Deine ehrlichen Antworten zeigen, dass du dir deiner aktuellen Situation bewusst bist. Das ist der erste und wichtigste Schritt zur Verbesserung.</p>
                        <h3 style="color: #333; margin-top: 25px;">Deine Chancen:</h3>
                        <ul style="text-align: left; color: #666;">
                            <li>Enormes Steigerungspotenzial in allen Bereichen</li>
                            <li>Klare Roadmap für schnelle, sichtbare Fortschritte</li>
                            <li>Versteckte Expertise, die nur darauf wartet, entdeckt zu werden</li>
                            <li>Möglichkeit, sich als Experte in deinem Bereich zu positionieren</li>
                        </ul>
                        <p style="margin-top: 25px;"><strong>Stell dir vor, wie sich dein Business und deine Sichtbarkeit in den nächsten Monaten entwickeln könnten!</strong></p>
                    </div>
                `;
            }
        }

        function restartSurvey() {
            currentStep = 1;
            Object.keys(answers).forEach(key => delete answers[key]);
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('survey-content').classList.remove('hidden');
            renderCurrentStep();
        }

        // Initialize the survey
        document.addEventListener('DOMContentLoaded', function() {
            renderCurrentStep();
        });
    </script>
</body>
</html>
