<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grovia Digital - Personal Branding Masterclass</title>
    <meta name="description" content="Entdecke dein Personal Branding Potenzial mit unserer professionellen 8-Fragen Analyse. Erhalte personalisierte Einblicke f√ºr deinen Social Media Erfolg.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3b82f6;
            --primary-foreground: #ffffff;
            --background: #ffffff;
            --foreground: #0f172a;
            --muted: #f1f5f9;
            --muted-foreground: #64748b;
            --border: #e2e8f0;
            --input: #e2e8f0;
            --ring: #3b82f6;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8fafc;
            color: var(--foreground);
            line-height: 1.5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
        }

        .survey-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 48px;
            border: 1px solid var(--border);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 48px;
        }

        .header-content h1 {
            font-size: 32px;
            font-weight: 700;
            color: #1e293b;
            margin: 0 0 8px 0;
        }

        .header-content p {
            font-size: 18px;
            color: var(--muted-foreground);
            margin: 0;
        }

        .logo {
            width: 100px;
            height: auto;
            border-radius: 8px;
        }

        .progress-section {
            margin-bottom: 48px;
        }

        .progress-text {
            font-size: 16px;
            font-weight: 500;
            color: var(--muted-foreground);
            margin-bottom: 16px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--muted);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .question-title {
            font-size: 24px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 32px;
            line-height: 1.3;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-item {
            display: flex;
            align-items: flex-start;
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }

        .radio-item:hover {
            border-color: var(--primary);
            background-color: #f0f9ff;
        }

        .radio-item.selected {
            border-color: var(--primary);
            background-color: #eff6ff;
        }

        .radio-input {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            margin-top: 2px;
            accent-color: var(--primary);
        }

        .radio-label {
            font-size: 16px;
            color: #334155;
            line-height: 1.4;
            flex: 1;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #374151;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 48px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            flex: 1;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .btn-primary:hover:not(:disabled) {
            background: #2563eb;
            border-color: #2563eb;
        }

        .btn-primary:disabled {
            background: #9ca3af;
            border-color: #9ca3af;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border-color: var(--border);
        }

        .btn-secondary:hover {
            background: #f8fafc;
            border-color: var(--primary);
        }

        .result-card {
            text-align: center;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 32px;
            font-size: 32px;
            font-weight: 700;
            color: white;
        }

        .score-high {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .score-low {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .hidden {
            display: none;
        }

        .contact-form {
            margin-top: 32px;
            padding-top: 32px;
            border-top: 1px solid var(--border);
        }

        .contact-title {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 24px;
        }

        .footer {
            margin-top: 48px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .footer-content p {
            margin: 0;
            color: var(--muted-foreground);
            font-size: 14px;
        }

        .footer-links {
            display: flex;
            gap: 24px;
        }

        .footer-link {
            color: var(--muted-foreground);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .footer-link:hover {
            color: var(--foreground);
        }

        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }
            .survey-card {
                padding: 24px;
            }
            .header {
                flex-direction: column;
                gap: 16px;
            }
            .question-title {
                font-size: 20px;
            }
            .button-group {
                flex-direction: column;
            }
            .footer-content {
                flex-direction: column;
                text-align: center;
            }
            .footer-links {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="survey-card">
            <div class="header">
                <div class="header-content">
                    <h1>Grovia Digital</h1>
                    <p>Personal Branding Masterclass</p>
                </div>
                <img class="logo" src="https://raw.githubusercontent.com/KnAlex83/Potenzial-Analyse/main/client/src/assets/grovia-logo.jpg" alt="Grovia Digital Logo">
            </div>

            <div id="survey-content">
                <div class="progress-section">
                    <div class="progress-text" id="progress-text">Schritt 1 von 9</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 11.11%;"></div>
                    </div>
                </div>

                <form id="survey-form">
                    <div id="question-container"></div>
                    
                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" id="prev-btn" onclick="previousStep()" style="display: none;">Zur√ºck</button>
                        <button type="button" class="btn btn-primary" id="next-btn" onclick="nextStep()">Weiter</button>
                    </div>
                </form>
            </div>

            <div id="result-screen" class="hidden">
                <div class="result-card">
                    <div id="score-display"></div>
                    <div id="result-message"></div>
                    <button class="btn btn-primary" onclick="restartSurvey()">Neue Analyse starten</button>
                </div>
            </div>

            <div class="footer">
                <div class="footer-content">
                    <p>¬© 2024 Grovia Digital. Alle Rechte vorbehalten.</p>
                    <div class="footer-links">
                        <a href="#" class="footer-link">Datenschutz</a>
                        <a href="#" class="footer-link">Impressum</a>
                        <a href="#" class="footer-link">Kontakt</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 9;
        const answers = {};

        const questions = [
            {
                title: "Wie viele unentdeckte Chancen oder ideale Kunden vermutest, verpasst du aktuell, weil deine Expertise online noch nicht sichtbar ist?",
                options: [
                    "Kaum ‚Äì ich starte gerade erst",
                    "Einige ‚Äì ich sp√ºre, dass mehr m√∂glich w√§re",
                    "Viele! Ich ahne, wieviel Potenzial brachliegt",
                    "Massive Mengen ‚Äì es h√§lt mein Business zur√ºck"
                ]
            },
            {
                title: "Wie viele Stunden wirst du W√ñCHENTLICH investieren, um nach der Masterclass SOFORT Ergebnisse zu sehen?",
                options: [
                    "< 2h (riskiert Stillstand)",
                    "2-4h (Minimalaufwand f√ºr erste Schritte)",
                    "5-8h (ideales Tempo f√ºr sp√ºrbare Ver√§nderung)",
                    "> 8h (Turbo-Transformation m√∂glich)"
                ]
            },
            {
                title: "Was ist dein konkretes 3-Monats-Ziel, das dich JETZT antreibt?",
                options: [
                    "üî• Exakt messbar & terminiert (z.B. \"Bis 30.09. 15 Leads/Monat via LinkedIn\")",
                    "‚úÖ Klarer Fokus (z.B. \"Mein Webinar bis August launchbereit haben\")",
                    "üü° Teilweise konkret (z.B. \"Mehr Sichtbarkeit in meiner Branche\")",
                    "‚ö†Ô∏è Vage (z.B. \"Beruflich durchstarten\")",
                    "‚ùå Kein Ziel / unsicher"
                ]
            },
            {
                title: "Was ist deine gro√üe Vision f√ºr die n√§chsten 1-2 Jahre, wenn dein Personal Branding FUNKTIONIERT?",
                options: [
                    "üåü Klare Skalierung (z.B. \"Als Top-Expert:in bekannt, 50% mehr Umsatz automatisiert\")",
                    "üöÄ Wachstum mit Plan (z.B. \"Team aufbauen, internationale Kund:innen\")",
                    "‚è±Ô∏è Stabilisierung (z.B. \"Konstante Anfragen ohne Akquise\")",
                    "üîç Unklar (z.B. \"Finanziell besser dastehen\")",
                    "‚ùå Keine Vision"
                ]
            },
            {
                title: "Wie sehr stimmst du zu: 'Personal Branding ist HEUTE unverzichtbar, um ohne Dauer-Akquise Wunschkunden anzuziehen'?",
                options: [
                    "Stimme VOLL zu (erkenne den systemischen Hebel)",
                    "Stimme zu (sehe den Trend)",
                    "Neutral",
                    "Stimme nicht zu (glaube an veraltete Methoden)"
                ]
            },
            {
                title: "Wie sicher bist du, dass du die Masterclass-Strategien SOFORT umsetzt?",
                options: [
                    "üíØ Starte direkt durch ‚Äì ich will keine Zeit verlieren!",
                    "‚úÖ Werde viel umsetzen (ggf. mit Support)",
                    "‚è∏Ô∏è Brauche erst externe Motivation"
                ]
            },
            {
                title: "Wie sehr WILLST du deine aktuelle Situation ver√§ndern ‚Äì auch wenn es kurzfristig Energie kostet?",
                options: [
                    "Extrem! Ich bin bereit f√ºr den n√§chsten Level-Sprung",
                    "Sehr ‚Äì ich sp√ºre die Dringlichkeit",
                    "Mittel ‚Äì aber ich z√∂gere noch",
                    "Gering ‚Äì ich warte lieber ab"
                ]
            },
            {
                title: "Bist du bereit, in deine Freiheit zu investieren? 500‚Ç¨ f√ºr Systeme + Community, die dir Kunden bringen, w√§hrend andere noch k√§mpfen:",
                options: [
                    "JA ‚Äì ich will JETZT durchstarten!",
                    "Vielleicht ‚Äì brauche Details zum ROI",
                    "Nein ‚Äì ich untersch√§tze noch den Hebel"
                ]
            }
        ];

        function renderCurrentStep() {
            const container = document.getElementById('question-container');
            
            if (currentStep <= 8) {
                const question = questions[currentStep - 1];
                container.innerHTML = `
                    <div class="question-title">${question.title}</div>
                    <div class="radio-group">
                        ${question.options.map((option, index) => `
                            <label class="radio-item ${answers[`question${currentStep}`] === option ? 'selected' : ''}" onclick="selectOption(${currentStep}, '${option.replace(/'/g, "\\'")}')">
                                <input type="radio" name="question${currentStep}" value="${option}" class="radio-input" ${answers[`question${currentStep}`] === option ? 'checked' : ''}>
                                <span class="radio-label">${option}</span>
                            </label>
                        `).join('')}
                    </div>
                `;
            } else if (currentStep === 9) {
                container.innerHTML = `
                    <div class="contact-title">Kontaktdaten f√ºr dein pers√∂nliches Ergebnis</div>
                    <div class="form-group">
                        <label class="form-label">Vorname *</label>
                        <input type="text" id="firstName" class="form-input" value="${answers.firstName || ''}" onchange="updateContactInfo('firstName', this.value)" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">E-Mail-Adresse *</label>
                        <input type="email" id="email" class="form-input" value="${answers.email || ''}" onchange="updateContactInfo('email', this.value)" required>
                    </div>
                `;
            }

            updateProgress();
            updateButtons();
        }

        function selectOption(questionNum, option) {
            answers[`question${questionNum}`] = option;
            renderCurrentStep();
        }

        function updateContactInfo(field, value) {
            answers[field] = value;
        }

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress-text').textContent = `Schritt ${currentStep} von ${totalSteps}`;
            document.getElementById('progress-fill').style.width = `${progress}%`;
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.style.display = currentStep > 1 ? 'block' : 'none';
            
            if (currentStep === 9) {
                nextBtn.textContent = 'Analyse abschlie√üen';
                nextBtn.disabled = !answers.firstName || !answers.email;
            } else {
                nextBtn.textContent = 'Weiter';
                nextBtn.disabled = !answers[`question${currentStep}`];
            }
        }

        function nextStep() {
            if (currentStep === 9) {
                submitSurvey();
                return;
            }
            
            if (currentStep < totalSteps) {
                currentStep++;
                renderCurrentStep();
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                renderCurrentStep();
            }
        }

        async function submitSurvey() {
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = true;
            nextBtn.textContent = 'Wird verarbeitet...';

            const scores = {
                // Question 1: Potenzial
                'Kaum ‚Äì ich starte gerade erst': 1,
                'Einige ‚Äì ich sp√ºre, dass mehr m√∂glich w√§re': 2,
                'Viele! Ich ahne, wieviel Potenzial brachliegt': 3,
                'Massive Mengen ‚Äì es h√§lt mein Business zur√ºck': 4,
                
                // Question 2: Zeit Investment
                '< 2h (riskiert Stillstand)': 1,
                '2-4h (Minimalaufwand f√ºr erste Schritte)': 2,
                '5-8h (ideales Tempo f√ºr sp√ºrbare Ver√§nderung)': 3,
                '> 8h (Turbo-Transformation m√∂glich)': 4,
                
                // Question 3: 3-Monats-Ziel
                'üî• Exakt messbar & terminiert (z.B. "Bis 30.09. 15 Leads/Monat via LinkedIn")': 5,
                '‚úÖ Klarer Fokus (z.B. "Mein Webinar bis August launchbereit haben")': 4,
                'üü° Teilweise konkret (z.B. "Mehr Sichtbarkeit in meiner Branche")': 3,
                '‚ö†Ô∏è Vage (z.B. "Beruflich durchstarten")': 2,
                '‚ùå Kein Ziel / unsicher': 1,
                
                // Question 4: Vision
                'üåü Klare Skalierung (z.B. "Als Top-Expert:in bekannt, 50% mehr Umsatz automatisiert")': 5,
                'üöÄ Wachstum mit Plan (z.B. "Team aufbauen, internationale Kund:innen")': 4,
                '‚è±Ô∏è Stabilisierung (z.B. "Konstante Anfragen ohne Akquise")': 3,
                'üîç Unklar (z.B. "Finanziell besser dastehen")': 2,
                '‚ùå Keine Vision': 1,
                
                // Question 5: Personal Branding √úberzeugung
                'Stimme VOLL zu (erkenne den systemischen Hebel)': 4,
                'Stimme zu (sehe den Trend)': 3,
                'Neutral': 2,
                'Stimme nicht zu (glaube an veraltete Methoden)': 1,
                
                // Question 6: Umsetzungsbereitschaft
                'üíØ Starte direkt durch ‚Äì ich will keine Zeit verlieren!': 3,
                '‚úÖ Werde viel umsetzen (ggf. mit Support)': 2,
                '‚è∏Ô∏è Brauche erst externe Motivation': 1,
                
                // Question 7: Ver√§nderungswille
                'Extrem! Ich bin bereit f√ºr den n√§chsten Level-Sprung': 4,
                'Sehr ‚Äì ich sp√ºre die Dringlichkeit': 3,
                'Mittel ‚Äì aber ich z√∂gere noch': 2,
                'Gering ‚Äì ich warte lieber ab': 1,
                
                // Question 8: Investment Bereitschaft
                'JA ‚Äì ich will JETZT durchstarten!': 3,
                'Vielleicht ‚Äì brauche Details zum ROI': 2,
                'Nein ‚Äì ich untersch√§tze noch den Hebel': 1
            };

            let totalScore = 0;
            for (let i = 1; i <= 8; i++) {
                const answer = answers[`question${i}`];
                totalScore += scores[answer] || 0;
            }

            const maxScore = 30; // 4+4+5+5+4+3+4+3 = 32, but using 30 for better percentage distribution
            const scorePercentage = Math.round((totalScore / maxScore) * 100);
            
            const submissionData = {
                ...answers,
                totalScore,
                scorePercentage
            };

            try {
                await fetch('/api/survey', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(submissionData)
                });
            } catch (error) {
                console.log('Submission logged locally');
            }

            showResult(scorePercentage);
        }

        function showResult(scorePercentage) {
            document.getElementById('survey-content').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            const scoreDisplay = document.getElementById('score-display');
            const resultMessage = document.getElementById('result-message');

            const scoreClass = scorePercentage > 50 ? 'score-high' : 'score-low';
            scoreDisplay.innerHTML = `<div class="score-circle ${scoreClass}">${scorePercentage}%</div>`;

            if (scorePercentage > 50) {
                resultMessage.innerHTML = `
                    <h2 style="color: #10b981; margin-bottom: 20px;">Gl√ºckwunsch! Du bist auf einem guten Weg!</h2>
                    <div style="text-align: left;">
                        <p><strong>Dein Personal Branding Score: ${scorePercentage}%</strong></p>
                        <p>Du hast bereits eine solide Grundlage in deinem Personal Branding aufgebaut. Deine Anstrengungen zahlen sich aus, und du bist auf dem richtigen Weg, deine Expertise sichtbar zu machen.</p>
                        <h3 style="color: #333; margin-top: 25px;">Deine n√§chsten Schritte:</h3>
                        <ul style="text-align: left; color: #666;">
                            <li>‚úì Optimiere deine bestehende Strategie f√ºr noch bessere Ergebnisse</li>
                            <li>‚úì Fokussiere dich auf die Bereiche mit dem gr√∂√üten Verbesserungspotenzial</li>
                            <li>‚úì Baue systematisch deine Reichweite und dein Engagement aus</li>
                            <li>‚úì Nutze deine vorhandenen St√§rken, um noch gezielter zu kommunizieren</li>
                        </ul>
                        <p style="margin-top: 25px;"><strong>Du verf√ºgst bereits √ºber wichtige Grundlagen ‚Äì lass uns gemeinsam das volle Potenzial aussch√∂pfen!</strong></p>
                    </div>
                `;
            } else {
                resultMessage.innerHTML = `
                    <h2 style="color: #f59e0b; margin-bottom: 20px;">Gro√ües Potenzial wartet auf dich!</h2>
                    <div style="text-align: left;">
                        <p><strong>Dein Personal Branding Score: ${scorePercentage}%</strong></p>
                        <p>Keine Sorge ‚Äì du stehst am Anfang einer spannenden Reise! Deine ehrlichen Antworten zeigen, dass du dir deiner aktuellen Situation bewusst bist. Das ist der erste und wichtigste Schritt zur Verbesserung.</p>
                        <h3 style="color: #333; margin-top: 25px;">Deine Chancen:</h3>
                        <ul style="text-align: left; color: #666;">
                            <li>Enormes Steigerungspotenzial in allen Bereichen</li>
                            <li>Klare Roadmap f√ºr schnelle, sichtbare Fortschritte</li>
                            <li>Versteckte Expertise, die nur darauf wartet, entdeckt zu werden</li>
                            <li>M√∂glichkeit, sich als Experte in deinem Bereich zu positionieren</li>
                        </ul>
                        <p style="margin-top: 25px;"><strong>Stell dir vor, wie sich dein Business und deine Sichtbarkeit in den n√§chsten Monaten entwickeln k√∂nnten!</strong></p>
                    </div>
                `;
            }
        }

        function restartSurvey() {
            currentStep = 1;
            Object.keys(answers).forEach(key => delete answers[key]);
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('survey-content').classList.remove('hidden');
            renderCurrentStep();
        }

        // Initialize the survey
        document.addEventListener('DOMContentLoaded', function() {
            renderCurrentStep();
        });
    </script>
</body>
</html>
