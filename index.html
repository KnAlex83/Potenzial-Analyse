<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grovia Digital - Persönliche Potenzial Analyse</title>
    <meta name="description" content="Entdecke dein Personal Branding Potenzial mit unserer professionellen 7-Fragen Analyse. Erhalte personalisierte Einblicke für deinen Social Media Erfolg.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3b82f6;
            --primary-foreground: #ffffff;
            --background: #ffffff;
            --foreground: #0f172a;
            --muted: #f1f5f9;
            --muted-foreground: #64748b;
            --border: #e2e8f0;
            --input: #e2e8f0;
            --ring: #3b82f6;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8fafc;
            color: var(--foreground);
            line-height: 1.5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
        }

        .survey-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 48px;
            border: 1px solid var(--border);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            margin-top: -16px;
        }

        .header-content h1 {
            font-size: 32px;
            font-weight: 700;
            color: #1e293b;
            margin: 0 0 8px 0;
        }

        .header-content p {
            font-size: 18px;
            color: var(--muted-foreground);
            margin: 0;
        }

        .logo {
            width: 200px;
            height: auto;
            border-radius: 8px;
        }

        .progress-section {
            margin-bottom: 48px;
        }

        .progress-text {
            font-size: 16px;
            font-weight: 500;
            color: var(--muted-foreground);
            margin-bottom: 16px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--muted);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .question-title {
            font-size: 24px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 32px;
            line-height: 1.3;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-item {
            display: flex;
            align-items: flex-start;
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }

        .radio-item:hover {
            border-color: var(--primary);
            background-color: #f0f9ff;
        }

        .radio-item.selected {
            border-color: var(--primary);
            background-color: #eff6ff;
        }

        .radio-input {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            margin-top: 2px;
            accent-color: var(--primary);
        }

        .radio-label {
            font-size: 16px;
            color: #334155;
            line-height: 1.4;
            flex: 1;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #374151;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 48px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            flex: 1;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .btn-primary:hover:not(:disabled) {
            background: #2563eb;
            border-color: #2563eb;
        }

        .btn-primary:disabled {
            background: #9ca3af;
            border-color: #9ca3af;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border-color: var(--border);
        }

        .btn-secondary:hover {
            background: #f8fafc;
            border-color: var(--primary);
        }

        .result-card {
            text-align: center;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 32px;
            font-size: 32px;
            font-weight: 700;
            color: white;
        }

        .score-high {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .score-low {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }

        .hidden {
            display: none;
        }

        .contact-form {
            margin-top: 32px;
            padding-top: 32px;
            border-top: 1px solid var(--border);
        }

        .contact-title {
            font-size: 20px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 24px;
        }

        .footer {
            margin-top: 48px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .footer-content p {
            margin: 0;
            color: var(--muted-foreground);
            font-size: 14px;
        }

        .footer-links {
            display: flex;
            gap: 24px;
        }

        .footer-link {
            color: var(--muted-foreground);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .footer-link:hover {
            color: var(--foreground);
        }
        
        .gdpr-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--foreground);
            margin-bottom: 24px;
            text-align: center;
        }

        .gdpr-content {
            text-align: left;
        }

        .gdpr-text {
            background: var(--muted);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .gdpr-text h3 {
            color: var(--primary);
            margin-bottom: 12px;
            font-size: 18px;
        }

        .gdpr-text ul {
            margin: 12px 0;
            padding-left: 20px;
        }

        .gdpr-text li {
            margin-bottom: 8px;
            color: var(--muted-foreground);
        }

        .gdpr-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: var(--background);
        }

        .gdpr-checkbox:hover {
            border-color: var(--primary);
            background: var(--muted);
        }

        .gdpr-checkbox.selected {
            border-color: var(--primary);
            background: var(--primary);
            color: var(--primary-foreground);
        }

        .checkbox-input {
            margin: 0;
            width: 18px;
            height: 18px;
            flex-shrink: 0;
        }

        .checkbox-label {
            line-height: 1.5;
            font-size: 14px;
        }

        .consent-success {
            text-align: center;
            padding: 40px 20px;
        }

        .success-icon {
            font-size: 48px;
            color: #10b981;
            margin-bottom: 16px;
        }

        .consent-success h3 {
            color: var(--foreground);
            margin-bottom: 12px;
            font-size: 24px;
        }

        .consent-success p {
            color: var(--muted-foreground);
            font-size: 16px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }
            .survey-card {
                padding: 24px;
            }
            .header {
                flex-direction: column;
                gap: 16px;
            }
            .question-title {
                font-size: 20px;
            }
            .button-group {
                flex-direction: column;
            }
            .footer-content {
                flex-direction: column;
                text-align: center;
            }
            .footer-links {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="survey-card">
            <div class="header">
                <div class="header-content">
                    <h1>Grovia Digital</h1>
                    <p>Entfalte dein Potenzial online</p>
                </div>
                <img class="logo" src="./grovia-logo.jpg" alt="Grovia Digital Logo">
            </div>

            <div id="survey-content">
                <div class="progress-section">
                    <div class="progress-text" id="progress-text">Schritt 1 von 10</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 11.11%;"></div>
                    </div>
                </div>

                <form id="survey-form">
                    <div id="question-container"></div>
                    
                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" id="prev-btn" onclick="previousStep()" style="display: none;">Zurück</button>
                        <button type="button" class="btn btn-primary" id="next-btn" onclick="nextStep()">Weiter</button>
                    </div>
                </form>
            </div>

            <div id="result-screen" class="hidden">
                <div class="result-card">
                    <div id="score-display"></div>
                    <div id="result-message"></div>
                    <a href="https://grovia-digital.com/masterclass/" target="_blank" rel="noopener noreferrer" class="btn btn-primary">Erhöhe deine Online-Reichweite</a>
                </div>
            </div>

            <div class="footer">
                <div class="footer-content">
                    <p>© 2025 Grovia Digital. Alle Rechte vorbehalten.</p>
                    <div class="footer-links">
                        <a href="https://grovia-digital.com/datenschutz/" class="footer-link" id="privacy-link" target="_blank" rel="noopener">Datenschutz</a>
                        <a href="https://grovia-digital.com/impressum/" class="footer-link" id="imprint-link" target="_blank" rel="noopener">Impressum</a>
                        <a href="https://grovia-digital.com/terms-conditions/" class="footer-link" id="terms-link" target="_blank" rel="noopener">AGB</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 10;
        const answers = {};

        const questions = [
            {
                title: "Wie würdest du deine aktuelle Präsenz auf Social Media beschreiben?",
                options: [
                    "Sehr aktiv, ich poste regelmäßg und interagiere viel.",
                    "Ich poste hin und wieder, aber nicht regelmäßig.",
                    "Ich habe eine Social Media Präsenz, aber sie ist eher passiv.",
                    "Ich bin noch ganz am Anfang und habe kaum Präsenz"
                ]
            },
            {
                title: "Wie wohl fühlst du dich dabei, dich auf Social Media zu zeigen?",
                options: [
                    "Ich fühle mich sehr wohl und zeige mich authenthisch.",
                    "Es ist okay für mich, aber ich könnte mehr teilen.",
                    "Ich habe Schwierigkeiten mich auf Social Media zu zeigen."
                ]
            },
            {
                title: "Nutzt du Social Media bereits, um Kunden zu gewinnen?",
                options: [
                    "Ja, ich gewinne regelmäßig Kunden über Social Media.",
                    "Ab und zu, aber noch nicht regelmäßig oder in nennenswertem Maße.",
                    "Nein, ich nutze Social Media bisher nur um eine Online-Präsenz zu haben.",
                    "Ich habe noch nicht darüber nachgedacht, Social Media zur Kundengewinnung zu nutzen."
                ]
            },
            {
                title: "Wie wird deine Botschaft online wahrgenommen?",
                options: [
                    "Sehr gut, ich bekomme positive Reaktionen und ziehe die richtigen Leute an.",
                    "Ganz gut, aber es könnte mehr Aufmerksamkeit bekommen.",
                    "Es ist schwer zu sagen, da ich nicht viele Reaktionen erhalte",
                    "Ich bin mir unsicher, wie meine Botschaft wahrgenommen wird"
                ]
            },
            {
                title: "Was möchtest du erzielen?",
                options: [
                    "Mit meinem Content Geld verdienen.",
                    "Ich möchte meine Wissen teilen und als Experte wahrgenommen werden.",
                    "Mein Geschäft soll online bekannter werden.",
                    "Ich möchte mein Netzwerk erweitern und neue Geschäftsmöglichkeiten schaffen.",
                    "Weiß ich noch nicht so ganz."
                ]
            },
            {
                title: "Wie sehr stimmtst du zu:'Personal Branding auf Social Media ist heute unverzichtbar, damit man ohne Dauer-Akquise Wunschkunden anziehen kann'?",
                options: [
                    "Stimme voll zu (erkenne systematischen Hebel)",
                    "Ich bin mir nicht sicher",
                    "Stimme nicht zu (glaube an Offline-Methoden mehr)"
                ]
            },
            {
                title: "Wie viel Einkommen würdest du anstreben, wenn du eine effektive Strategie anwendest?",
                options: [
                    "Ich möchte mein Einkommen vollständig durch Social Media und Personal Branding erzielen.",
                    "Ich möchte ein zusätzliches Einkommen von 500 € bis 2000 € pro Monat generieren.",
                    "Ich erhoffe mir ein zusätzliches Nebeneinkommen von 200 € bis 500 € monatlich.",
                    "Ich habe noch keine konkreten Vortellungen, wie viel ich durch Social Media und Personal Branding verdienen möchte"
                ]
            },
        ];

        function renderCurrentStep() {
            const container = document.getElementById('question-container');
            
            if (currentStep <= 7) {
                const question = questions[currentStep - 1];
                container.innerHTML = `
                    <div class="question-title">${question.title}</div>
                    <div class="radio-group">
                        ${question.options.map((option, index) => `
                           <label class="radio-item ${answers[`question${currentStep}`] === `option${index + 1}` ? 'selected' : ''}" onclick="selectOption(${currentStep}, ${index})">
                                <input type="radio" name="question${currentStep}" value="option${index + 1}" class="radio-input" ${answers[`question${currentStep}`] === `option${index + 1}` ? 'checked' : ''}>
                                <span class="radio-label">${option}</span>
                            </label>
                        `).join('')}
                    </div>
                `;
            } else if (currentStep === 8) {
                container.innerHTML = `
                    <div class="gdpr-title">Datenschutz und Einverständnis</div>
                    <div class="gdpr-content">
                        <div class="gdpr-text">
                            <h3>Verwendung Ihrer Daten</h3>
                            <p>Mit dem Absenden dieser Analyse stimmen Sie zu, dass wir:</p>
                            <ul>
                                <li>✓ Ihre Antworten zur Erstellung Ihres persönlichen Ergebnisses verwenden</li>
                                <li>✓ Sie per E-Mail über passende Personal Branding Angebote informieren dürfen</li>
                                <li>✓ Ihre Kontaktdaten für Marketingzwecke nutzen (Widerruf jederzeit möglich)</li>
                            </ul>
                
                            <h3>DSGVO-konforme Datenverarbeitung</h3>
                            <p>Ihre Daten werden verschlüsselt übertragen und DSGVO-konform gespeichert. Sie können der Nutzung jederzeit widersprechen und Ihre Daten löschen lassen.</p>
                
                            <p><strong>Detaillierte Informationen finden Sie in unserer <a href="#" class="footer-link">Datenschutzerklärung</a>.</strong></p>
                        </div>
            
                        <label class="gdpr-checkbox ${answers.gdprConsent ? 'selected' : ''}" onclick="updateGdprConsent()">
                            <input type="checkbox" class="checkbox-input" ${answers.gdprConsent ? 'checked' : ''}>
                            <span class="checkbox-label">
                                <strong>Ja, ich stimme der Datenverarbeitung zu und möchte über Personal Branding Angebote informiert werden.</strong>
                            </span>
                        </label>
                    </div>
                `;
            } else if (currentStep === 9) {
                container.innerHTML = `
                    <div class="consent-success">
                        <div class="success-icon">✓</div>
                        <h3>Datenschutz akzeptiert</h3>
                        <p>Vielen Dank für Ihr Vertrauen. Jetzt können Sie Ihre Kontaktdaten eingeben, um Ihr persönliches Ergebnis zu erhalten.</p>
                    </div>
                `;
            } else if (currentStep === 10) {

            updateProgress();
            updateButtons();
        }

        function selectOption(questionNum, optionIndex) {
            const question = questions[questionNum - 1];
            const optionValue = `option${optionIndex + 1}`;
            answers[`question${questionNum}`] = optionValue;
            renderCurrentStep();
        }

        function validateEmail(email) {
            // Basic email format check
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (!emailRegex.test(email)) {
                return { valid: false, message: 'Bitte geben Sie eine gültige E-Mail-Adresse ein.' };
            }
            
            // Check for obvious typos in common domains
            const domain = email.split('@')[1].toLowerCase();
            const typoChecks = {
                'gmial.com': 'gmail.com',
                'gmai.com': 'gmail.com',
                'yahooo.com': 'yahoo.com',
                'outlok.com': 'outlook.com',
                'hotmial.com': 'hotmail.com'
            };
            
            if (typoChecks[domain]) {
                return { valid: false, message: `Meinten Sie ${typoChecks[domain]}?` };
            }
            
            // Check for minimum domain requirements (at least one dot)
            if (!domain.includes('.') || domain.length < 4) {
                return { valid: false, message: 'Bitte überprüfen Sie Ihre E-Mail-Adresse.' };
            }
            
            return { valid: true, message: '' };
        }

        function updateContactInfo(field, value) {
            answers[field] = value;
            
            if (field === 'email' && value) {
                const validation = validateEmail(value);
                const emailInput = document.getElementById('email');
                const existingError = document.querySelector('.email-error');
                
                if (existingError) {
                    existingError.remove();
                }
                
                if (!validation.valid) {
                    emailInput.style.borderColor = '#ef4444';
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'email-error';
                    errorDiv.style.color = '#ef4444';
                    errorDiv.style.fontSize = '14px';
                    errorDiv.style.marginTop = '4px';
                    errorDiv.textContent = validation.message;
                    emailInput.parentNode.appendChild(errorDiv);
                } else {
                    emailInput.style.borderColor = '#22c55e';
                }
            }
            
            updateButtons();
        } 

        function updateGdprConsent() {
            answers.gdprConsent = !answers.gdprConsent;
            renderCurrentStep();
        }

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress-text').textContent = `Schritt ${currentStep} von ${totalSteps}`;
            document.getElementById('progress-fill').style.width = `${progress}%`;
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.style.display = currentStep > 1 ? 'block' : 'none';
            
            if (currentStep === 8) {
                nextBtn.textContent = 'Datenschutz akzeptieren';
                nextBtn.disabled = !answers.gdprConsent;
            } else if (currentStep === 9) {
                nextBtn.textContent = 'Kontaktdaten eingeben';
                nextBtn.disabled = false;
            } else if (currentStep === 10) {
                nextBtn.textContent = 'Analyse abschließen';
                const firstName = answers.firstName && answers.firstName.trim();
                const email = answers.email && answers.email.trim();
               nextBtn.disabled = !firstName || !email;
            } else {
                nextBtn.textContent = 'Weiter';
                nextBtn.disabled = !answers[`question${currentStep}`];
            }
        }

        function nextStep() {
            if (currentStep === 10) {
                submitSurvey();
                return;
            }
            
            if (currentStep < totalSteps) {
                currentStep++;
                renderCurrentStep();
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                renderCurrentStep();
            }
        }

        async function submitSurvey() {
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = true;
            nextBtn.textContent = 'Wird verarbeitet...';

            const getQuestionScore = (questionNum, optionValue) => {
                const scoreMap = {
                    1: { option1: 4, option2: 3, option3: 2, option4: 1 },
                    2: { option1: 4, option2: 2, option3: 1 },
                    3: { option1: 4, option2: 3, option3: 2, option4: 1 },
                    4: { option1: 4, option2: 3, option3: 2, option4: 1 },
                    5: { option1: 5, option2: 5, option3: 5, option4: 5, option5: 1 },
                    6: { option1: 4, option2: 2, option3: 1 },
                    7: { option1: 5, option2: 3, option3: 2, option4: 1 },
                };
                return scoreMap[questionNum][optionValue] || 0;
            };

            let totalScore = 0;
            for (let i = 1; i <= 7; i++) {
                const answer = answers[`question${i}`];
                totalScore += getQuestionScore(i, answer);
            }

            const maxScore = 30; // 4+4+4+4+5+4+5 = 30
            const scorePercentage = Math.round((totalScore / maxScore) * 100);
            
            const submissionData = {
                ...answers,
                question8: 'option1', // dummy value since we only have 7 questions
                totalScore,
                scorePercentage
            };

            try {
                await fetch('https://potenzial.grovia-digital.com/.netlify/functions/survey', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'X-API-Key': 'survey-api-2024-secure'
                    },
                    body: JSON.stringify(submissionData)
                });
            } catch (error) {
                console.log('Submission logged locally');
            }

            showResult(scorePercentage);

        }

        function showResult(scorePercentage) {
            document.getElementById('survey-content').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            const scoreDisplay = document.getElementById('score-display');
            const resultMessage = document.getElementById('result-message');

            const scoreClass = scorePercentage > 50 ? 'score-high' : 'score-low';
            scoreDisplay.innerHTML = `<div class="score-circle ${scoreClass}">${scorePercentage}%</div>`;

            if (scorePercentage > 50) {
                resultMessage.innerHTML = `
                    <h2 style="color: #10b981; margin-bottom: 20px;">Glückwunsch! Du bist auf einem guten Weg!</h2>
                    <div style="text-align: left;">
                        <p><strong>Dein Personal Branding Score: ${scorePercentage}%</strong></p>
                        <p>Du hast bereits eine solide Grundlage in deinem Personal Branding aufgebaut. Deine Anstrengungen zahlen sich aus, und du bist auf dem richtigen Weg, deine Expertise sichtbar zu machen.</p>
                        <h3 style="color: #333; margin-top: 25px;">Deine nächsten Schritte:</h3>
                        <ul style="text-align: left; color: #666;">
                            <li>✓ Optimiere deine bestehende Strategie für noch bessere Ergebnisse</li>
                            <li>✓ Fokussiere dich auf die Bereiche mit dem größten Verbesserungspotenzial</li>
                            <li>✓ Baue systematisch deine Reichweite und dein Engagement aus</li>
                            <li>✓ Nutze deine vorhandenen Stärken, um noch gezielter zu kommunizieren</li>
                        </ul>
                        <p style="margin-top: 25px;"><strong>Du verfügst bereits über wichtige Grundlagen – lass uns gemeinsam das volle Potenzial ausschöpfen!</strong></p>
                    </div>
                `;
            } else {
                resultMessage.innerHTML = `
                    <h2 style="color: #f59e0b; margin-bottom: 20px;">Großes Potenzial wartet auf dich!</h2>
                    <div style="text-align: left;">
                        <p><strong>Dein Personal Branding Score: ${scorePercentage}%</strong></p>
                        <p>Keine Sorge – du stehst am Anfang einer spannenden Reise! Deine ehrlichen Antworten zeigen, dass du dir deiner aktuellen Situation bewusst bist. Das ist der erste und wichtigste Schritt zur Verbesserung.</p>
                        <h3 style="color: #333; margin-top: 25px;">Deine Chancen:</h3>
                        <ul style="text-align: left; color: #666;">
                            <li>Enormes Steigerungspotenzial in allen Bereichen</li>
                            <li>Klare Roadmap für schnelle, sichtbare Fortschritte</li>
                            <li>Versteckte Expertise, die nur darauf wartet, entdeckt zu werden</li>
                            <li>Möglichkeit, sich als Experte in deinem Bereich zu positionieren</li>
                        </ul>
                        <p style="margin-top: 25px;"><strong>Stell dir vor, wie sich dein Business und deine Sichtbarkeit in den nächsten Monaten entwickeln könnten!</strong></p>
                    </div>
                `;
            }
        }

        function restartSurvey() {
            currentStep = 1;
            Object.keys(answers).forEach(key => delete answers[key]);
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('survey-content').classList.remove('hidden');
            renderCurrentStep();
        }

        // Initialize the survey
        document.addEventListener('DOMContentLoaded', function() {
            renderCurrentStep();
        });
    </script>
</body>
</html>
